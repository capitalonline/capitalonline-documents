#### 使用场景

您可以创建告警用于在云数据库状态改变时触发警报并发送相关消息。创建的告警会根据每隔一段时间监控的指标相对于给定阈值的情况判断是否需要触发相关通知。

状态改变触发告警后，您可以及时进行相应的预防或补救措施。因此，合理地创建告警能帮助您提高应用程序的健壮性和可靠性。

当用户需要针对云数据库产品的某个状态发送告警时，需要先创建告警规则。告警规则包括名称、关联资源、告警触发条件和通知方式三个必要组成部分。每个告警规则是一系列告警触发条件的集合，告警触发条件是“或”关系，即一个条件满足，就会发送告警。告警将发送至告警规则关联的所有人，用户接收到告警后可以及时查看并采取相应措施。

**注意：**

在设置报警规则前请先设置报警接收联系人。

#### 操作步骤

#### 创建报警规则

1. 登陆控制台。

2. 在左侧菜单中选择【弹性计算】-【计算监控中心】。

3. 在左侧栏中选择【报警规则】。

4. 在报警规则页中，点击右上角的【创建报警规则】。

5. 在创建报警规则页面中，设置关联资源、触发条件、通知方式等。

- 产品类型

  - 分为云数据库MySQL-主机监控和云数据库MySQL-备机监控，分别适用于不用的实例类型。

  - 部署类监控为主机：当监控实例为主实例时，由于其主实例不为任何实例的从实例，因此其主机下复制相关的监控数据无效，此时其 IO、SQL 线程状态为未启动。仅当监控实例为灾备实例和只读实例时，其对应复制相关的监控数据才有效，且 IO、SQL 线程才是启动的状态。

  - 部署类监控为备机：高可用版的实例默认为一主一从架构，因此，仅当监控实例为主实例时，其备机下复制相关的监控数据才有效。用于反映主实与其隐藏从节点的延迟距离及时间，建议关注备机下相关的监控数据，若主实例存在故障时，其监控实例对应隐藏的从节点可快速提升为主实例。

  - 可通过选择对象所在的地域或搜索对象的实例名称找到需要关联的对象实例。   

    ![image-20210219165625601](https://i.loli.net/2021/02/19/9JqhEX6gsNtb2kR.png)                       

- 报警规则：指标、统计周期、比较关系、阈值、持续周期和告警周期组成的一个有语义的条件。例如：指标为磁盘使用率、比较关系为>、阈值为80%、统计周期为1分钟、持续周期为2个周期、告警周期为每5分钟告警一次。表示：每1分钟收集一次磁盘使用率数据，若某台云数据库的磁盘使用率连续两次大于80%则触发告警，如果一直持续，则会每5分钟发送一次告警。

- 设置告警接收对象：

  1. 选择需要通知的用户组。

  2. 设置报警级别。

     Critiacl（严重）：同时发送短信及邮件。

     Warning（警告）：发送邮件。

6. 确认无误后，单击【确定】即可。
    